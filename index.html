<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EALegacy - MQL Bot Management</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Using Poppins as a free alternative to Perpoll -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <style>
        /* --- CSS Variables --- */
        :root {
            --primary-color: #ff0000; /* Red */
            --primary-dark: #cc0000; /* Dark Red */
            --primary-light: #ff3333; /* Light Red */
            --success-color: #ff0000; /* Red */
            --success-dark: #cc0000; /* Dark Red */
            --success-light: #ff3333; /* Light Red */
            --bg-dark: #000000;
            --bg-darker: #111;
            --bg-light: #1a1a1a;
            --text-light: #fff;
            --text-muted: #aaa;
            --border-radius: 12px;
            --transition: all 0.3s ease;
        }

        /* --- General --- */
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            /* Using Poppins as Perpoll alternative */
            font-family: 'Poppins', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        /* If you have Perpoll font license, replace the above with:
        @font-face {
            font-family: 'Perpoll';
            src: url('path/to/Perpoll-Light.woff2') format('woff2'),
                 url('path/to/Perpoll-Light.woff') format('woff');
            font-weight: 300;
            font-style: normal;
        }
        
        @font-face {
            font-family: 'Perpoll';
            src: url('path/to/Perpoll-Regular.woff2') format('woff2'),
                 url('path/to/Perpoll-Regular.woff') format('woff');
            font-weight: 400;
            font-style: normal;
        }
        
        @font-face {
            font-family: 'Perpoll';
            src: url('path/to/Perpoll-Medium.woff2') format('woff2'),
                 url('path/to/Perpoll-Medium.woff') format('woff');
            font-weight: 500;
            font-style: normal;
        }
        
        @font-face {
            font-family: 'Perpoll';
            src: url('path/to/Perpoll-SemiBold.woff2') format('woff2'),
                 url('path/to/Perpoll-SemiBold.woff') format('woff');
            font-weight: 600;
            font-style: normal;
        }
        
        @font-face {
            font-family: 'Perpoll';
            src: url('path/to/Perpoll-Bold.woff2') format('woff2'),
                 url('path/to/Perpoll-Bold.woff') format('woff');
            font-weight: 700;
            font-style: normal;
        }
        
        @font-face {
            font-family: 'Perpoll';
            src: url('path/to/Perpoll-ExtraBold.woff2') format('woff2'),
                 url('path/to/Perpoll-ExtraBold.woff') format('woff');
            font-weight: 800;
            font-style: normal;
        }
        
        @font-face {
            font-family: 'Perpoll';
            src: url('path/to/Perpoll-Black.woff2') format('woff2'),
                 url('path/to/Perpoll-Black.woff') format('woff');
            font-weight: 900;
            font-style: normal;
        }
        
        * {
            font-family: 'Perpoll', sans-serif;
        }
        */

        body {
            background: linear-gradient(135deg, #000000 0%, #1a0000 100%);
            color: var(--text-light);
            display: flex;
            min-height: 100vh;
            transition: background 0.5s;
            overflow-x: hidden;
            animation: backgroundPulse 10s infinite alternate;
        }

        @keyframes backgroundPulse {
            0% { background: linear-gradient(135deg, #000000 0%, #1a0000 100%); }
            100% { background: linear-gradient(135deg, #0a0000 0%, #2a0000 100%); }
        }

        /* --- Authentication Styles --- */
        .auth-container {
            width: 100%;
            max-width: 900px;
            margin: 0 auto;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            animation: fadeIn 1s ease-out;
        }

        .auth-card {
            display: flex;
            background-color: rgba(0, 0, 0, 0.9);
            border: 2px solid var(--primary-dark);
            border-radius: 10px;
            box-shadow: 0 0 20px var(--primary-color);
            overflow: hidden;
            width: 100%;
            animation: glow 2s infinite alternate;
        }

        @keyframes glow {
            0% { box-shadow: 0 0 15px var(--primary-color); }
            100% { box-shadow: 0 0 30px var(--primary-color); }
        }

        .image-section {
            flex: 1;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }

        .image-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, rgba(255,0,0,0.2) 0%, rgba(0,0,0,0.8) 100%);
            z-index: 1;
        }

        .auth-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
            filter: contrast(1.2) brightness(0.8);
            animation: imagePulse 8s infinite alternate;
        }

        @keyframes imagePulse {
            0% { transform: scale(1); }
            100% { transform: scale(1.05); }
        }

        .form-section {
            flex: 1;
            padding: 30px;
            display: flex;
            flex-direction: column;
            position: relative;
            overflow: hidden;
        }

        .form-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(255,0,0,0.05) 0%, rgba(0,0,0,0.9) 100%);
            z-index: -1;
        }

        .logo {
            text-align: center;
            margin-bottom: 20px;
            animation: slideDown 1s ease-out;
        }

        .logo h1 {
            font-size: 2.5rem;
            font-weight: 800; /* Extra Bold for Perpoll */
            color: var(--primary-color);
            text-shadow: 0 0 10px var(--primary-color);
            letter-spacing: 1.5px;
            margin-bottom: 5px;
            animation: textGlow 2s infinite alternate;
        }

        @keyframes textGlow {
            0% { text-shadow: 0 0 10px var(--primary-color); }
            100% { text-shadow: 0 0 20px var(--primary-color); }
        }

        .logo p {
            color: var(--primary-color);
            text-shadow: 0 0 5px var(--primary-color);
            font-style: italic;
            margin-bottom: 25px;
            font-weight: 500; /* Medium weight for Perpoll */
            font-size: 1.1rem;
        }

        .tabs {
            display: flex;
            margin-bottom: 20px;
            border-bottom: 1px solid var(--primary-color);
            animation: slideUp 1s ease-out;
        }

        .tab {
            flex: 1;
            padding: 12px;
            background: transparent;
            border: none;
            color: var(--primary-color);
            font-size: 1rem;
            font-weight: 600; /* Semi-bold for Perpoll */
            cursor: pointer;
            transition: var(--transition);
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .tab::before {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 3px;
            background: var(--primary-color);
            transition: var(--transition);
        }

        .tab:hover::before {
            width: 100%;
        }

        .tab.active {
            background-color: var(--primary-color);
            color: #000;
            font-weight: 700; /* Bold for Perpoll */
        }

        .form-title {
            font-size: 1.5rem;
            font-weight: 700; /* Bold for Perpoll */
            color: var(--primary-color);
            text-shadow: 0 0 5px var(--primary-color);
            margin-bottom: 20px;
            text-align: center;
            animation: fadeIn 1.5s ease-out;
        }

        .form-group {
            margin-bottom: 15px;
            animation: slideIn 0.5s ease-out;
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateX(-20px); }
            to { opacity: 1; transform: translateX(0); }
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            color: var(--primary-color);
            text-shadow: 0 0 3px var(--primary-color);
            font-size: 0.9rem;
            font-weight: 600; /* Semi-bold for Perpoll */
        }

        .form-input {
            width: 100%;
            padding: 12px 15px;
            background-color: rgba(0, 0, 0, 0.7);
            border: 1px solid var(--primary-dark);
            border-radius: 5px;
            color: var(--text-light);
            font-size: 1rem;
            font-weight: 400; /* Regular for Perpoll */
            transition: var(--transition);
        }

        .form-input:focus {
            outline: none;
            box-shadow: 0 0 8px var(--primary-color);
            border-color: var(--primary-color);
            transform: scale(1.02);
        }

        .form-input::placeholder {
            color: var(--primary-dark);
            font-weight: 400; /* Regular for Perpoll */
        }

        .password-container {
            position: relative;
        }

        .password-toggle {
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--primary-color);
            cursor: pointer;
            transition: var(--transition);
        }

        .password-toggle:hover {
            color: var(--primary-light);
            transform: translateY(-50%) scale(1.1);
        }

        .btn {
            width: 100%;
            padding: 12px;
            background: linear-gradient(45deg, var(--primary-dark), var(--primary-color));
            color: #fff;
            border: none;
            border-radius: 5px;
            font-size: 1rem;
            font-weight: 700; /* Bold for Perpoll */
            cursor: pointer;
            transition: var(--transition);
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-top: 10px;
            position: relative;
            overflow: hidden;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: 0.5s;
        }

        .btn:hover::before {
            left: 100%;
        }

        .btn:hover {
            box-shadow: 0 0 15px var(--primary-color);
            transform: translateY(-2px);
        }

        .btn-payment {
            background: linear-gradient(45deg, #cc0000, #ff0000);
            color: #fff;
        }

        .btn-payment:hover {
            box-shadow: 0 0 15px #ff0000;
        }

        .link {
            color: var(--primary-color);
            text-decoration: none;
            transition: var(--transition);
            font-size: 0.9rem;
            font-weight: 500; /* Medium for Perpoll */
            position: relative;
        }

        .link::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            width: 0;
            height: 1px;
            background: var(--primary-color);
            transition: var(--transition);
        }

        .link:hover::after {
            width: 100%;
        }

        .link:hover {
            text-shadow: 0 0 5px var(--primary-color);
        }

        .form-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 15px;
        }

        .terms {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
        }

        .terms-checkbox {
            margin-right: 10px;
            accent-color: var(--primary-color);
        }

        .terms-label {
            color: var(--primary-color);
            font-size: 0.9rem;
            font-weight: 500; /* Medium for Perpoll */
        }

        .password-requirements {
            color: var(--primary-dark);
            font-size: 0.75rem;
            font-weight: 400; /* Regular for Perpoll */
            margin-top: 5px;
        }

        .form-row {
            display: flex;
            gap: 10px;
        }

        .form-row .form-group {
            flex: 1;
        }

        .footer-links {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 15px;
        }

        .footer-links a {
            color: var(--primary-color);
            text-decoration: none;
            font-size: 0.8rem;
            font-weight: 500; /* Medium for Perpoll */
            transition: var(--transition);
        }

        .footer-links a:hover {
            text-shadow: 0 0 5px var(--primary-color);
        }

        .form-wrapper {
            display: none;
            animation: fadeIn 0.5s ease-out;
        }

        .form-wrapper.active {
            display: block;
        }

        /* Payment Modal Styles */
        .payment-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.9);
            z-index: 1000;
            justify-content: center;
            align-items: center;
            animation: fadeIn 0.3s ease-out;
        }

        .payment-modal.active {
            display: flex;
        }

        .payment-card {
            background-color: var(--bg-dark);
            border: 2px solid var(--primary-color);
            border-radius: 10px;
            box-shadow: 0 0 30px var(--primary-color);
            padding: 30px;
            width: 90%;
            max-width: 500px;
            animation: scaleIn 0.3s ease-out;
        }

        @keyframes scaleIn {
            from { transform: scale(0.8); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }

        .payment-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .payment-title {
            font-size: 1.5rem;
            font-weight: 700; /* Bold for Perpoll */
            color: var(--primary-color);
            text-shadow: 0 0 5px var(--primary-color);
        }

        .close-payment {
            background: none;
            border: none;
            color: var(--primary-color);
            font-size: 1.5rem;
            cursor: pointer;
            transition: var(--transition);
        }

        .close-payment:hover {
            color: var(--primary-light);
            transform: scale(1.1);
        }

        .payment-amount {
            text-align: center;
            margin-bottom: 25px;
            font-size: 1.8rem;
            font-weight: 800; /* Extra Bold for Perpoll */
            color: var(--primary-color);
            text-shadow: 0 0 5px var(--primary-color);
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        .payment-methods {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-bottom: 25px;
        }

        .payment-method {
            display: flex;
            align-items: center;
            padding: 15px;
            border: 1px solid var(--primary-color);
            border-radius: 5px;
            cursor: pointer;
            transition: var(--transition);
            position: relative;
            overflow: hidden;
        }

        .payment-method::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,0,0,0.1), transparent);
            transition: 0.5s;
        }

        .payment-method:hover::before {
            left: 100%;
        }

        .payment-method:hover {
            background-color: rgba(255, 0, 0, 0.1);
            transform: translateX(5px);
        }

        .payment-method.selected {
            background-color: rgba(255, 0, 0, 0.2);
            border-color: var(--primary-light);
        }

        .payment-icon {
            font-size: 1.5rem;
            margin-right: 15px;
            color: var(--primary-color);
        }

        .payment-details {
            flex: 1;
        }

        .payment-name {
            font-weight: 700; /* Bold for Perpoll */
            color: var(--primary-color);
            margin-bottom: 5px;
        }

        .payment-desc {
            font-size: 0.8rem;
            font-weight: 400; /* Regular for Perpoll */
            color: var(--text-muted);
        }

        /* Dashboard Styles */
        .dashboard {
            display: none;
            width: 100%;
            height: 100vh;
            background: linear-gradient(135deg, #000000 0%, #1a0000 100%);
            animation: fadeIn 1s ease-out;
        }

        .dashboard.active {
            display: flex;
        }

        /* --- Sidebar --- */
        .sidebar {
            width: 240px;
            background: linear-gradient(180deg, #000000 0%, #1a0000 100%);
            height: 100vh;
            padding: 25px 15px;
            border-right: 3px solid var(--primary-dark);
            box-shadow: 0 0 20px rgba(255, 0, 0, 0.3);
            position: fixed;
            z-index: 100;
            overflow-y: auto;
            animation: slideInLeft 0.5s ease-out;
        }

        @keyframes slideInLeft {
            from { transform: translateX(-100%); }
            to { transform: translateX(0); }
        }

        .sidebar h2 {
            color: var(--primary-color);
            text-align: center;
            margin-bottom: 30px;
            font-size: 22px;
            font-weight: 800; /* Extra Bold for Perpoll */
            letter-spacing: 1px;
            text-transform: uppercase;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            animation: textGlow 2s infinite alternate;
        }

        .menu ul {
            list-style: none;
            padding: 0;
        }

        .menu ul li { 
            margin: 20px 0; 
        }

        .menu ul li a {
            text-decoration: none;
            color: var(--text-light);
            font-size: 16px;
            font-weight: 600; /* Semi-bold for Perpoll */
            padding: 12px;
            display: flex;
            align-items: center;
            gap: 12px;
            border-radius: var(--border-radius);
            transition: var(--transition);
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }

        .menu ul li a::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,0,0,0.2), transparent);
            transition: 0.5s;
        }

        .menu ul li a:hover::before {
            left: 100%;
        }

        .menu ul li a:hover, .menu ul li a.active {
            background: var(--primary-color);
            color: #fff;
            transform: translateX(5px);
            box-shadow: 0 0 10px var(--primary-color);
        }

        .menu ul li a i {
            width: 20px;
            text-align: center;
        }

        /* --- Main Content --- */
        .main-content {
            flex: 1;
            padding: 30px;
            margin-left: 240px;
            overflow-y: auto;
            min-height: 100vh;
            width: calc(100% - 240px);
            animation: fadeIn 1s ease-out;
        }

        .page-header { 
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 15px;
            border-bottom: 1px solid rgba(255, 0, 0, 0.3);
            animation: slideDown 0.5s ease-out;
        }

        @keyframes slideDown {
            from { transform: translateY(-20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        .page-title {
            color: var(--primary-color);
            letter-spacing: 1px;
            display: flex;
            align-items: center;
            gap: 10px;
            margin: 0;
            font-weight: 700; /* Bold for Perpoll */
            animation: textGlow 2s infinite alternate;
        }

        /* --- Stats --- */
        .stats-container {
            display: flex;
            justify-content: flex-start;
            gap: 20px;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        .stat-box {
            flex: 1;
            min-width: 170px;
            padding: 20px;
            background: linear-gradient(135deg, rgba(0,0,0,0.8) 0%, rgba(26,0,0,0.8) 100%);
            border: 2px solid var(--primary-dark);
            text-align: center;
            border-radius: var(--border-radius);
            transition: var(--transition);
            position: relative;
            overflow: hidden;
            animation: fadeInUp 0.5s ease-out;
        }

        @keyframes fadeInUp {
            from { transform: translateY(20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        .stat-box::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,0,0,0.1), transparent);
            transition: 0.5s;
        }

        .stat-box:hover::before {
            left: 100%;
        }

        .stat-box:hover { 
            transform: translateY(-5px); 
            box-shadow: 0 10px 20px rgba(255, 0, 0, 0.3);
        }

        .stat-box h3 { 
            margin: 0; 
            color: var(--text-light); 
            font-size: 14px; 
            font-weight: 600; /* Semi-bold for Perpoll */
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .stat-box p { 
            font-size: 24px; 
            font-weight: 800; /* Extra Bold for Perpoll */
            color: var(--primary-color); 
            margin-top: 10px;
            text-shadow: 0 0 5px var(--primary-color);
        }

        /* --- Cards --- */
        .card {
            background: linear-gradient(135deg, rgba(0,0,0,0.8) 0%, rgba(26,0,0,0.8) 100%);
            border-radius: var(--border-radius);
            padding: 20px;
            margin-bottom: 20px;
            border: 1px solid rgba(255, 0, 0, 0.3);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
            animation: fadeIn 0.5s ease-out;
        }

        .card h2 {
            font-weight: 700; /* Bold for Perpoll */
            margin-bottom: 15px;
        }

        .card p {
            font-weight: 400; /* Regular for Perpoll */
            line-height: 1.6;
        }

        /* --- Buttons --- */
        .btn {
            border: none;
            padding: 12px 20px;
            font-size: 16px;
            cursor: pointer;
            color: #fff;
            border-radius: 8px;
            transition: var(--transition);
            display: inline-flex;
            align-items: center;
            gap: 8px;
            text-decoration: none;
            position: relative;
            overflow: hidden;
            font-weight: 600; /* Semi-bold for Perpoll */
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: 0.5s;
        }

        .btn:hover::before {
            left: 100%;
        }

        .btn-primary {
            background: linear-gradient(45deg, var(--primary-dark), var(--primary-color));
        }

        .btn-primary:hover {
            transform: scale(1.05);
            box-shadow: 0 0 15px var(--primary-color);
        }

        .btn-success {
            background: linear-gradient(45deg, var(--success-dark), var(--success-color));
        }

        .btn-success:hover {
            transform: scale(1.05);
            box-shadow: 0 0 15px var(--success-color);
        }

        .btn-danger {
            background: linear-gradient(45deg, #990000, #cc0000);
        }

        .btn-danger:hover {
            transform: scale(1.05);
            box-shadow: 0 0 15px #cc0000;
        }

        /* --- EA Cards --- */
        .ea-card {
            background: linear-gradient(135deg, rgba(0,0,0,0.8) 0%, rgba(26,0,0,0.8) 100%);
            border: 2px solid var(--primary-dark);
            border-radius: var(--border-radius);
            padding: 15px;
            margin-top: 15px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 15px;
            transition: var(--transition);
            position: relative;
            overflow: hidden;
            animation: fadeInUp 0.5s ease-out;
        }

        .ea-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,0,0,0.1), transparent);
            transition: 0.5s;
        }

        .ea-card:hover::before {
            left: 100%;
        }

        .ea-card img {
            width: 60px;
            height: 60px;
            border-radius: 8px;
            object-fit: cover;
            filter: contrast(1.2) brightness(0.8);
        }

        .ea-card:hover {
            transform: scale(1.03);
            box-shadow: 0 0 20px var(--primary-color);
        }

        .ea-icon {
            width: 60px;
            height: 60px;
            border-radius: 8px;
            background: rgba(255, 0, 0, 0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            color: var(--primary-color);
        }

        .ea-info {
            flex: 1;
        }

        .ea-name {
            font-weight: 700; /* Bold for Perpoll */
            font-size: 18px;
            margin-bottom: 5px;
        }

        .ea-details {
            color: var(--text-muted);
            font-size: 14px;
            font-weight: 400; /* Regular for Perpoll */
        }

        /* --- Form --- */
        .form-group {
            margin-bottom: 20px;
            text-align: left;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600; /* Semi-bold for Perpoll */
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .form-control {
            width: 100%;
            padding: 12px;
            background-color: rgba(0, 0, 0, 0.7);
            color: var(--text-light);
            border: 1px solid var(--primary-dark);
            border-radius: 8px;
            transition: var(--transition);
            font-family: inherit;
            font-weight: 400; /* Regular for Perpoll */
        }

        .form-control:focus {
            border-color: var(--primary-color);
            box-shadow: 0 0 10px var(--primary-color);
            outline: none;
            transform: scale(1.02);
        }

        textarea.form-control {
            resize: vertical;
            min-height: 120px;
        }

        /* --- File Upload --- */
        .file-upload-area {
            border: 2px dashed var(--primary-color);
            border-radius: var(--border-radius);
            padding: 40px 20px;
            text-align: center;
            transition: var(--transition);
            cursor: pointer;
            margin-bottom: 20px;
            position: relative;
            overflow: hidden;
        }

        .file-upload-area::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,0,0,0.1), transparent);
            transition: 0.5s;
        }

        .file-upload-area:hover::before {
            left: 100%;
        }

        .file-upload-area:hover {
            border-color: var(--primary-light);
            background: rgba(255, 0, 0, 0.05);
            transform: scale(1.02);
        }

        .file-upload-area i {
            font-size: 48px;
            color: var(--primary-color);
            margin-bottom: 15px;
        }

        .file-upload-area h3 {
            font-weight: 700; /* Bold for Perpoll */
            margin-bottom: 10px;
        }

        .file-upload-area p {
            margin: 10px 0;
            color: var(--text-muted);
            font-weight: 400; /* Regular for Perpoll */
        }

        .file-info {
            background: rgba(0, 0, 0, 0.7);
            border: 1px solid var(--success-color);
            border-radius: 8px;
            padding: 15px;
            margin-top: 15px;
            display: none;
            animation: fadeIn 0.5s ease-out;
        }

        .file-info.show {
            display: block;
        }

        .file-info-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .file-info-name {
            font-weight: 700; /* Bold for Perpoll */
            color: var(--success-color);
        }

        .file-info-details {
            font-size: 14px;
            color: var(--text-muted);
            font-weight: 400; /* Regular for Perpoll */
        }

        /* --- License Keys Display --- */
        .license-keys-container {
            margin-top: 20px;
        }

        .license-key-item {
            background: rgba(0, 0, 0, 0.7);
            border: 1px solid var(--success-color);
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: var(--transition);
            animation: fadeInUp 0.5s ease-out;
        }

        .license-key-item:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(255, 0, 0, 0.3);
        }

        .license-key-info {
            flex: 1;
        }

        .license-key-code {
            font-family: 'Courier New', monospace;
            font-size: 16px;
            color: var(--success-color);
            margin-bottom: 5px;
            text-shadow: 0 0 5px var(--success-color);
            font-weight: 600; /* Semi-bold for Perpoll */
        }

        .license-key-details {
            font-size: 14px;
            color: var(--text-muted);
            font-weight: 400; /* Regular for Perpoll */
        }

        .license-key-actions {
            display: flex;
            gap: 10px;
        }

        /* --- Bot Status --- */
        .bot-status {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 600; /* Semi-bold for Perpoll */
        }

        .status-active {
            background: rgba(0, 255, 0, 0.2);
            color: #00ff00;
            border: 1px solid #00ff00;
        }

        .status-inactive {
            background: rgba(255, 0, 0, 0.2);
            color: var(--primary-color);
            border: 1px solid var(--primary-color);
        }

        .status-pending {
            background: rgba(255, 165, 0, 0.2);
            color: orange;
            border: 1px solid orange;
        }

        /* --- License Form --- */
        .license-form {
            background: rgba(0, 0, 0, 0.7);
            border: 2px solid var(--success-color);
            border-radius: var(--border-radius);
            padding: 25px;
            margin-top: 20px;
            animation: fadeIn 0.5s ease-in;
        }

        .license-form h3 {
            color: var(--success-color);
            text-align: center;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            font-weight: 700; /* Bold for Perpoll */
        }

        /* --- Symbols --- */
        .symbol-list { 
            margin-top: 10px; 
            display: flex; 
            flex-wrap: wrap; 
            gap: 8px; 
        }

        .symbol-item {
            background: rgba(0, 0, 0, 0.7);
            border: 1px solid var(--primary-dark);
            padding: 6px 12px;
            border-radius: 6px;
            display: flex;
            align-items: center;
            gap: 5px;
            animation: fadeIn 0.3s ease-in;
            font-weight: 500; /* Medium for Perpoll */
        }

        .symbol-item button {
            background: var(--primary-color);
            border: none;
            color: #fff;
            cursor: pointer;
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 12px;
            transition: var(--transition);
            font-weight: 600; /* Semi-bold for Perpoll */
        }

        .symbol-item button:hover {
            background: var(--primary-light);
        }

        /* --- User Info --- */
        .user-info {
            display: flex;
            align-items: center;
            gap: 10px;
            cursor: pointer;
            padding: 10px 15px;
            border-radius: 8px;
            transition: var(--transition);
            background: rgba(255, 0, 0, 0.05);
            animation: fadeIn 0.5s ease-out;
        }

        .user-info:hover {
            background: rgba(255, 0, 0, 0.1);
            transform: scale(1.02);
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--primary-color);
            color: #fff;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700; /* Bold for Perpoll */
            object-fit: cover;
        }

        .user-info div {
            font-weight: 600; /* Semi-bold for Perpoll */
        }

        /* --- License Key Display --- */
        .license-key-container {
            background: rgba(0, 0, 0, 0.7);
            border: 2px solid var(--success-color);
            border-radius: var(--border-radius);
            padding: 20px;
            margin-top: 20px;
            text-align: center;
            animation: fadeIn 0.5s ease-in;
        }

        .license-key {
            font-family: 'Courier New', monospace;
            font-size: 18px;
            background: rgba(255, 0, 0, 0.1);
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            letter-spacing: 2px;
            border: 1px dashed var(--success-color);
            word-break: break-all;
            text-shadow: 0 0 5px var(--success-color);
            font-weight: 600; /* Semi-bold for Perpoll */
        }

        .copy-btn {
            background: var(--success-color);
            border: none;
            color: #fff;
            padding: 8px 15px;
            border-radius: 6px;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 5px;
            margin: 0 auto;
            font-weight: 600; /* Semi-bold for Perpoll */
        }

        .copy-btn:hover {
            background: var(--success-light);
            transform: scale(1.05);
            box-shadow: 0 0 10px var(--success-color);
        }

        /* --- Animations --- */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        /* --- Button Container --- */
        .button-container {
            display: flex;
            justify-content: flex-start;
            gap: 10px;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        /* --- Bot Actions --- */
        .bot-actions {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }

        /* --- Status Badges --- */
        .badge {
            padding: 5px 10px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 700; /* Bold for Perpoll */
        }

        .badge-success {
            background-color: rgba(0, 255, 0, 0.2);
            color: #00ff00;
            border: 1px solid #00ff00;
        }

        .badge-danger {
            background-color: rgba(255, 0, 0, 0.2);
            color: var(--primary-color);
            border: 1px solid var(--primary-color);
        }

        /* --- Table Styles --- */
        .table-container {
            margin-top: 20px;
            overflow-x: auto;
        }

        .table {
            width: 100%;
            border-collapse: collapse;
            background-color: rgba(0, 0, 0, 0.7);
            border-radius: var(--border-radius);
            overflow: hidden;
            animation: fadeIn 0.5s ease-out;
        }

        .table th, .table td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid rgba(255, 0, 0, 0.3);
        }

        .table th {
            background-color: var(--primary-dark);
            color: #fff;
            font-weight: 700; /* Bold for Perpoll */
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .table td {
            font-weight: 400; /* Regular for Perpoll */
        }

        .table tr:hover {
            background-color: rgba(255, 0, 0, 0.05);
        }

        .table a {
            color: var(--primary-color);
            text-decoration: none;
            transition: var(--transition);
            font-weight: 600; /* Semi-bold for Perpoll */
        }

        .table a:hover {
            text-shadow: 0 0 5px var(--primary-color);
        }

        /* --- Profile Form Styles --- */
        .form-horizontal {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .form-horizontal .form-group {
            display: flex;
            flex-direction: column;
            margin-bottom: 0;
        }

        .form-horizontal label {
            margin-bottom: 8px;
            font-weight: 600; /* Semi-bold for Perpoll */
            color: var(--primary-color);
        }

        .profile-avatar {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            object-fit: cover;
            border: 3px solid var(--primary-color);
            margin: 0 auto 20px;
            display: block;
            filter: contrast(1.2) brightness(0.8);
            animation: pulse 3s infinite;
        }

        .profile-upload {
            text-align: center;
            margin-bottom: 30px;
        }

        /* --- Responsive --- */
        @media (max-width: 992px) {
            .sidebar {
                width: 70px;
                padding: 15px 5px;
            }
            
            .sidebar h2 span {
                display: none;
            }
            
            .menu ul li a span {
                display: none;
            }
            
            .main-content {
                margin-left: 70px;
                width: calc(100% - 70px);
            }
            
            .auth-card {
                flex-direction: column;
            }
            
            .image-section {
                height: 200px;
            }
        }

        @media (max-width: 768px) {
            .stats-container {
                flex-direction: column;
            }
            
            .button-container {
                flex-direction: column;
            }
            
            .btn {
                width: 100%;
                justify-content: center;
            }
            
            .bot-actions {
                flex-direction: column;
            }
            
            .license-key-item {
                flex-direction: column;
                align-items: flex-start;
                gap: 10px;
            }
            
            .license-key-actions {
                width: 100%;
                justify-content: flex-end;
            }
            
            .main-content {
                padding: 15px;
            }
        }

        @media (max-width: 576px) {
            .sidebar {
                width: 100%;
                height: auto;
                position: relative;
                margin-left: 0;
            }
            
            .main-content {
                margin-left: 0;
                width: 100%;
            }
            
            .menu ul {
                display: flex;
                overflow-x: auto;
            }
            
            .menu ul li {
                margin: 0 10px;
            }
        }

        /* --- Toast Notifications --- */
        .toast {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: var(--success-color);
            color: #fff;
            padding: 15px 25px;
            border-radius: 8px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            z-index: 1000;
            animation: slideIn 0.3s ease-out;
            display: flex;
            align-items: center;
            gap: 10px;
            font-weight: 600; /* Semi-bold for Perpoll */
        }

        .toast.error {
            background: #cc0000;
        }

        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        /* --- Loading Spinner --- */
        .spinner {
            border: 4px solid rgba(255, 0, 0, 0.3);
            border-radius: 50%;
            border-top: 4px solid var(--primary-color);
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 20px auto;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <!-- Authentication Section -->
    <div class="auth-container" id="auth-container">
        <div class="auth-card">
            <div class="image-section">
                <img src="https://i.pinimg.com/736x/4f/13/f6/4f13f6ca6076a32b7b3029cfa03da345.jpg" alt="EALegacy" class="auth-image">
            </div>
            
            <div class="form-section">
                <div class="logo">
                    <h1>EALegacy</h1>
                    <p>Admin Dashboard</p>
                </div>
                
                <div class="tabs">
                    <button class="tab active" id="login-tab">SIGN IN</button>
                    <button class="tab" id="register-tab">REGISTER</button>
                </div>
                
                <!-- Login Form -->
                <div class="form-wrapper active" id="login-form">
                    <h2 class="form-title">ACCESS ADMIN DASHBOARD</h2>
                    
                    <div class="form-group">
                        <label class="form-label" for="login-email">EMAIL</label>
                        <input type="email" id="login-email" class="form-input" placeholder="kgomotso@gmail.com" required>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="login-password">PASSWORD</label>
                        <div class="password-container">
                            <input type="password" id="login-password" class="form-input" placeholder="••••••••" required>
                            <span class="password-toggle" id="login-toggle">
                                <i class="fas fa-eye"></i>
                            </span>
                        </div>
                    </div>
                    
                    <button class="btn" id="login-btn">AUTHENTICATE</button>
                    
                    <div class="form-footer">
                        <a href="#" class="link">FORGOT PASSWORD?</a>
                    </div>
                </div>
                
                <!-- Registration Form -->
                <div class="form-wrapper" id="register-form">
                    <h2 class="form-title">CREATE ADMIN ACCOUNT</h2>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label" for="reg-firstname">FIRST NAME</label>
                            <input type="text" id="reg-firstname" class="form-input" placeholder="John" required>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label" for="reg-lastname">LAST NAME</label>
                            <input type="text" id="reg-lastname" class="form-input" placeholder="Doe" required>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="reg-email">EMAIL</label>
                        <input type="email" id="reg-email" class="form-input" placeholder="admin@ealegacy.com" required>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="reg-username">USERNAME</label>
                            <input type="text" id="reg-username" class="form-input" placeholder="admin_user" required>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="reg-password">PASSWORD</label>
                        <div class="password-container">
                            <input type="password" id="reg-password" class="form-input" placeholder="••••••••" required>
                            <span class="password-toggle" id="reg-toggle">
                                <i class="fas fa-eye"></i>
                            </span>
                        </div>
                        <div class="password-requirements">
                            Must be at least 8 characters with uppercase, lowercase, and numbers
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="reg-confirm">CONFIRM PASSWORD</label>
                        <input type="password" id="reg-confirm" class="form-input" placeholder="••••••••" required>
                    </div>
                    
                    <div class="terms">
                        <input type="checkbox" id="terms" class="terms-checkbox" required>
                        <label for="terms" class="terms-label">
                            I agree to the <a href="#" class="link">Terms of Service</a> and <a href="#" class="link">Privacy Policy</a>
                        </label>
                    </div>
                    
                    <button class="btn" id="register-btn">CREATE ACCOUNT</button>
                </div>
                
                <div class="footer-links">
                    <a href="#!">Terms of use</a>
                    <a href="#!">Privacy policy</a>
                </div>
            </div>
        </div>
    </div>

    <!-- Payment Modal -->
    <div class="payment-modal" id="payment-modal">
        <div class="payment-card">
            <div class="payment-header">
                <h2 class="payment-title">COMPLETE REGISTRATION</h2>
                <button class="close-payment" id="close-payment">&times;</button>
            </div>
            
            <div class="payment-amount">
                R900.00
            </div>
            
            <p style="text-align: center; color: var(--primary-color); margin-bottom: 20px;">
                Complete your registration by paying the one-time fee of R900
            </p>
            
            <div class="payment-methods">
                <div class="payment-method" id="credit-card">
                    <div class="payment-icon">
                        <i class="far fa-credit-card"></i>
                    </div>
                    <div class="payment-details">
                        <div class="payment-name">Credit/Debit Card</div>
                        <div class="payment-desc">Visa, Mastercard, American Express</div>
                    </div>
                </div>
                
                <div class="payment-method" id="paypal">
                    <div class="payment-icon">
                        <i class="fab fa-paypal"></i>
                    </div>
                    <div class="payment-details">
                        <div class="payment-name">PayPal</div>
                        <div class="payment-desc">Pay with your PayPal account</div>
                    </div>
                </div>
                
                <div class="payment-method" id="crypto">
                    <div class="payment-icon">
                        <i class="fab fa-bitcoin"></i>
                    </div>
                    <div class="payment-details">
                        <div class="payment-name">Cryptocurrency</div>
                        <div class="payment-desc">Bitcoin, Ethereum, Litecoin</div>
                    </div>
                </div>
            </div>
            
            <button class="btn btn-payment" id="proceed-payment">PAY R900 & COMPLETE REGISTRATION</button>
        </div>
    </div>

    <!-- Dashboard Section -->
    <div class="dashboard" id="dashboard">
        <aside class="sidebar">
            <h2><i class="fas fa-robot"></i> <span>EALegacy</span></h2>
            <nav class="menu">
                <ul>
                    <li><a id="dashboardBtn" class="active"><i class="fas fa-chart-line"></i> <span>Dashboard</span></a></li>
                    <li><a id="manageBotsBtn"><i class="fas fa-cogs"></i> <span>Manage Bots</span></a></li>
                    <li><a id="licenseKeysBtn"><i class="fas fa-key"></i> <span>License Keys</span></a></li>
                    <li><a id="generateKeyBtn"><i class="fas fa-plus-circle"></i> <span>Generate Key</span></a></li>
                    <li><a id="shopBtn"><i class="fas fa-store"></i> <span>Shop</span></a></li>
                    <li><a id="profileBtn"><i class="fas fa-user"></i> <span>Profile</span></a></li>
                    <li><a id="helpBtn"><i class="fas fa-question-circle"></i> <span>Help</span></a></li>
                    <li><a id="logoutBtn"><i class="fas fa-sign-out-alt"></i> <span>Logout</span></a></li>
                </ul>
            </nav>
        </aside>

        <section class="main-content" id="mainContent">
            <!-- Content will load here -->
        </section>
    </div>

    <script>
        // Authentication functionality
        let users = JSON.parse(localStorage.getItem('ealegacy_users')) || [];
        let currentUser = null;

        // Hardcoded admin credentials
        const ADMIN_EMAIL = 'kgomotso@gmail.com';
        const ADMIN_PASSWORD = 'Lerato531$';

        // Load profile pictures from localStorage
        let profilePictures = JSON.parse(localStorage.getItem('ealegacy_profile_pictures')) || {};

        // Tab switching functionality
        const loginTab = document.getElementById('login-tab');
        const registerTab = document.getElementById('register-tab');
        const loginForm = document.getElementById('login-form');
        const registerForm = document.getElementById('register-form');

        loginTab.addEventListener('click', () => {
            loginTab.classList.add('active');
            registerTab.classList.remove('active');
            loginForm.classList.add('active');
            registerForm.classList.remove('active');
        });

        registerTab.addEventListener('click', () => {
            registerTab.classList.add('active');
            loginTab.classList.remove('active');
            registerForm.classList.add('active');
            loginForm.classList.remove('active');
        });

        // Password toggle functionality
        const loginToggle = document.getElementById('login-toggle');
        const loginPassword = document.getElementById('login-password');

        const regToggle = document.getElementById('reg-toggle');
        const regPassword = document.getElementById('reg-password');

        loginToggle.addEventListener('click', () => {
            if(loginPassword.type === 'password') {
                loginPassword.type = 'text';
                loginToggle.innerHTML = '<i class="fas fa-eye-slash"></i>';
            } else {
                loginPassword.type = 'password';
                loginToggle.innerHTML = '<i class="fas fa-eye"></i>';
            }
        });

        regToggle.addEventListener('click', () => {
            if(regPassword.type === 'password') {
                regPassword.type = 'text';
                regToggle.innerHTML = '<i class="fas fa-eye-slash"></i>';
            } else {
                regPassword.type = 'password';
                regToggle.innerHTML = '<i class="fas fa-eye"></i>';
            }
        });

        // Payment modal functionality
        const paymentModal = document.getElementById('payment-modal');
        const closePayment = document.getElementById('close-payment');
        const proceedPayment = document.getElementById('proceed-payment');
        const paymentMethods = document.querySelectorAll('.payment-method');
        let selectedPaymentMethod = null;
        let currentUserData = null;

        // Registration with payment
        const registerBtn = document.getElementById('register-btn');
        registerBtn.addEventListener('click', () => {
            const firstName = document.getElementById('reg-firstname').value;
            const lastName = document.getElementById('reg-lastname').value;
            const email = document.getElementById('reg-email').value;
            const username = document.getElementById('reg-username').value;
            const password = document.getElementById('reg-password').value;
            const confirmPassword = document.getElementById('reg-confirm').value;
            const terms = document.getElementById('terms').checked;

            if(!firstName || !lastName || !email || !username || !password || !confirmPassword) {
                showToast('Please fill in all fields', true);
                return;
            }

            if(!terms) {
                showToast('You must agree to the Terms of Service and Privacy Policy', true);
                return;
            }

            if(password !== confirmPassword) {
                showToast('Passwords do not match', true);
                return;
            }

            if(password.length < 8) {
                showToast('Password must be at least 8 characters long', true);
                return;
            }

            // Check if user already exists
            const existingUser = users.find(user => user.email === email);
            if (existingUser) {
                showToast('An account with this email already exists. Please login instead.', true);
                loginTab.click();
                return;
            }

            // Store user data for after payment
            currentUserData = {
                firstName,
                lastName,
                email,
                username,
                password,
                registered: false // Will be set to true after payment
            };

            // Show payment modal
            paymentModal.classList.add('active');
        });

        // Close payment modal
        closePayment.addEventListener('click', () => {
            paymentModal.classList.remove('active');
            selectedPaymentMethod = null;
            paymentMethods.forEach(m => m.classList.remove('selected'));
        });

        // Select payment method
        paymentMethods.forEach(method => {
            method.addEventListener('click', () => {
                paymentMethods.forEach(m => m.classList.remove('selected'));
                method.classList.add('selected');
                selectedPaymentMethod = method.id;
            });
        });

        // Proceed with payment and complete registration
        proceedPayment.addEventListener('click', () => {
            if (!selectedPaymentMethod) {
                showToast('Please select a payment method', true);
                return;
            }

            if (!currentUserData) {
                showToast('Error: User data not found. Please try registering again.', true);
                return;
            }

            proceedPayment.textContent = 'PROCESSING PAYMENT...';

            // Simulate payment processing
            setTimeout(() => {
                // Mark user as registered
                currentUserData.registered = true;
                currentUserData.registrationDate = new Date().toISOString();

                // Save user to "database"
                users.push(currentUserData);
                localStorage.setItem('ealegacy_users', JSON.stringify(users));

                // Send confirmation email (simulated)
                sendConfirmationEmail(currentUserData.email, currentUserData.firstName);

                showToast(`Payment of R900 via ${selectedPaymentMethod.toUpperCase()} was successful!\n\nYour account has been created. You can now login.`);

                // Reset form
                document.getElementById('reg-firstname').value = '';
                document.getElementById('reg-lastname').value = '';
                document.getElementById('reg-email').value = '';
                document.getElementById('reg-username').value = '';
                document.getElementById('reg-password').value = '';
                document.getElementById('reg-confirm').value = '';
                document.getElementById('terms').checked = false;

                // Close modal and switch to login
                paymentModal.classList.remove('active');
                loginTab.click();
                proceedPayment.textContent = 'PAY R900 & COMPLETE REGISTRATION';
                selectedPaymentMethod = null;
                paymentMethods.forEach(m => m.classList.remove('selected'));
                currentUserData = null;
            }, 2000);
        });

        // Login functionality
        const loginBtn = document.getElementById('login-btn');
        loginBtn.addEventListener('click', () => {
            const email = document.getElementById('login-email').value;
            const password = document.getElementById('login-password').value;

            if(email && password) {
                // Check if credentials match the hardcoded admin account
                if (email === ADMIN_EMAIL && password === ADMIN_PASSWORD) {
                    loginBtn.textContent = 'AUTHENTICATING...';
                    setTimeout(() => {
                        // Create admin user object
                        currentUser = {
                            firstName: 'Kgomotso',
                            lastName: 'Admin',
                            email: ADMIN_EMAIL,
                            username: 'kgomotso_admin',
                            phone: '0837094221',
                            displayName: 'Easynasdaq',
                            registered: true,
                            registrationDate: new Date().toISOString()
                        };
                        
                        // Show dashboard
                        document.getElementById('auth-container').style.display = 'none';
                        document.getElementById('dashboard').classList.add('active');
                        loginBtn.textContent = 'AUTHENTICATE';
                        // Initialize dashboard
                        renderDashboard();
                    }, 1500);
                } else {
                    // Check if user exists in local storage
                    const user = users.find(u => u.email === email && u.password === password);

                    if (user) {
                        if (user.registered) {
                            loginBtn.textContent = 'AUTHENTICATING...';
                            setTimeout(() => {
                                // Store current user
                                currentUser = user;
                                // Show dashboard
                                document.getElementById('auth-container').style.display = 'none';
                                document.getElementById('dashboard').classList.add('active');
                                loginBtn.textContent = 'AUTHENTICATE';
                                // Initialize dashboard
                                renderDashboard();
                            }, 1500);
                        } else {
                            showToast('Your registration is not complete. Please complete the payment process.', true);
                            registerTab.click();
                        }
                    } else {
                        showToast('Invalid email or password. Please try again or register for a new account.', true);
                    }
                }
            } else {
                showToast('Please fill in all fields', true);
            }
        });

        // Simulate sending confirmation email
        function sendConfirmationEmail(email, firstName) {
            console.log(`Sending confirmation email to: ${email}`);
            console.log(`Email content: Dear ${firstName}, your EALegacy account has been successfully created. You can now login to access the admin dashboard.`);
        }

        // Show toast notification
        function showToast(message, isError = false) {
            const toast = document.createElement('div');
            toast.className = `toast ${isError ? 'error' : ''}`;
            toast.innerHTML = `
                <i class="fas ${isError ? 'fa-exclamation-circle' : 'fa-check-circle'}"></i>
                <span>${message}</span>
            `;
            document.body.appendChild(toast);
            
            setTimeout(() => {
                toast.remove();
            }, 3000);
        }

        // Dashboard functionality
        let bots = JSON.parse(localStorage.getItem('bots')) || [];
        let licenses = JSON.parse(localStorage.getItem('licenses')) || { total: 0, active: 0, max: 1000 };
        let licenseKeys = JSON.parse(localStorage.getItem('licenseKeys')) || [];

        // Utility functions
        function setActiveNav(activeId) {
            document.querySelectorAll('.menu a').forEach(link => {
                link.classList.remove('active');
            });
            document.getElementById(activeId).classList.add('active');
        }

        // --- Get Profile Picture ---
        function getProfilePicture(email) {
            return profilePictures[email] || 'https://via.placeholder.com/120';
        }

        // --- Save Profile Picture ---
        function saveProfilePicture(email, imageData) {
            profilePictures[email] = imageData;
            localStorage.setItem('ealegacy_profile_pictures', JSON.stringify(profilePictures));
        }

        // --- User Info Component ---
        function getUserInfo() {
            const profilePic = getProfilePicture(currentUser.email);
            return `
                <div class="user-info" id="userInfoBtn">
                    <div class="user-avatar" style="background-image: url('${profilePic}'); background-size: cover; background-position: center;">
                        ${!profilePictures[currentUser.email] ? currentUser.firstName[0] + currentUser.lastName[0] : ''}
                    </div>
                    <div>${currentUser.firstName} ${currentUser.lastName} <span style="color: var(--primary-color);">• Premium</span></div>
                </div>
            `;
        }

        // --- Render Dashboard ---
        function renderDashboard() {
            setActiveNav('dashboardBtn');
            document.getElementById("mainContent").innerHTML = `
                <div class="page-header">
                    <h1 class="page-title"><i class="fas fa-tachometer-alt"></i> Dashboard Overview</h1>
                    ${getUserInfo()}
                </div>
                
                <div class="card">
                    <h2>Welcome back, ${currentUser.firstName}!</h2>
                    <p>Monitor and manage your MQL trading bots from one centralized platform.</p>
                </div>
                
                <div class="stats-container">
                    <div class="stat-box">
                        <h3><i class="fas fa-key"></i> Total Licenses</h3>
                        <p id="totalLicenses">${licenses.total}</p>
                    </div>
                    <div class="stat-box">
                        <h3><i class="fas fa-play-circle"></i> Active Licenses</h3>
                        <p id="activeLicenses">${licenses.active}</p>
                    </div>
                    <div class="stat-box">
                        <h3><i class="fas fa-chart-bar"></i> Maximum Licenses</h3>
                        <p id="maxLicenses">${licenses.max}</p>
                    </div>
                    <div class="stat-box">
                        <h3><i class="fas fa-robot"></i> Your Bots</h3>
                        <p>${bots.length}</p>
                    </div>
                </div>
                
                <div class="card">
                    <h2>Your Bots</h2>
                    ${bots.length === 0 ? 
                        '<p>No bots uploaded yet. Upload your first MQL bot to get started.</p>' : 
                        bots.map(bot => {
                            const botLicenses = licenseKeys.filter(key => key.botId === bot.id);
                            return `
                            <div class="ea-card" onclick="viewBot(${bots.indexOf(bot)})">
                                ${bot.image ? `<img src="${bot.image}" alt="${bot.name}">` : `<div class="ea-icon"><i class="fas fa-robot"></i></div>`}
                                <div class="ea-info">
                                    <div class="ea-name">${bot.name}</div>
                                    <div class="ea-details">
                                        <span><i class="fas fa-chart-line"></i> ${bot.symbols.length} symbols</span> •
                                        <span><i class="fas fa-key"></i> ${botLicenses.length} keys</span>
                                    </div>
                                </div>
                            </div>
                        `}).join('')
                    }
                </div>
            `;
            
            // Add event listener to user info
            document.getElementById('userInfoBtn').addEventListener('click', renderProfile);
        }

        // --- Manage Bots ---
        function renderBots() {
            setActiveNav('manageBotsBtn');
            let html = `
                <div class="page-header">
                    <h1 class="page-title"><i class="fas fa-cogs"></i> Manage Trading Bots</h1>
                    ${getUserInfo()}
                </div>
                
                <div class="card">
                    <div style="display: flex; justify-content: space-between; align-items: center;">
                        <h2>Your MQL Trading Bots</h2>
                        <button class="btn btn-primary" id="newBot"><i class="fas fa-plus"></i> New Bot</button>
                    </div>
                    
                    <div class="ea-list">
                        <p>Total Bots: ${bots.length}</p>
            `;
            
            if(bots.length === 0) { 
                html += `
                    <div class="ea-card" style="text-align: center; justify-content: center;">
                        <div>
                            <div class="ea-icon" style="margin: 0 auto;">
                                <i class="fas fa-robot"></i>
                            </div>
                            <div>
                                <strong>No Bots Yet</strong><br>
                                <span>Click "New Bot" to upload your first MQL trading bot</span>
                            </div>
                        </div>
                    </div>`; 
            } else {
                bots.forEach((bot, index) => {
                    const botLicenses = licenseKeys.filter(key => key.botId === bot.id);
                    html += `
                    <div class="ea-card" onclick="viewBot(${index})">
                        ${bot.image ? `<img src="${bot.image}" alt="${bot.name}">` : `<div class="ea-icon"><i class="fas fa-robot"></i></div>`}
                        <div class="ea-info">
                            <div class="ea-name">${bot.name}</div>
                            <div class="ea-details">
                                <span><i class="fas fa-chart-line"></i> ${bot.symbols.length} symbols</span> •
                                <span><i class="fas fa-key"></i> ${botLicenses.length} license keys</span>
                            </div>
                        </div>
                        <div>
                            <i class="fas fa-chevron-right"></i>
                        </div>
                    </div>`;
                });
            }
            html += `</div></div>`;
            document.getElementById("mainContent").innerHTML = html;
            document.getElementById("newBot").addEventListener("click", () => loadNewBotForm());
            
            // Add event listener to user info
            document.getElementById('userInfoBtn').addEventListener('click', renderProfile);
        }

        // --- Bot Form ---
        function loadNewBotForm(bot = null, index = null) {
            document.getElementById("mainContent").innerHTML = `
                <div class="page-header">
                    <h1 class="page-title"><i class="fas fa-plus-circle"></i> ${bot ? 'Edit Bot' : 'Upload New Bot'}</h1>
                    ${getUserInfo()}
                </div>
                
                <div class="card">
                    <form id="botForm">
                        <div class="form-group">
                            <label for="botName"><i class="fas fa-signature"></i> Bot Name:</label>
                            <input type="text" id="botName" class="form-control" placeholder="Enter Bot Name" value="${bot ? bot.name : ''}" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="botColor"><i class="fas fa-palette"></i> Color Scheme:</label>
                            <select id="botColor" class="form-control">
                                <option value="Red & Black" ${bot && bot.color == 'Red & Black' ? 'selected' : ''}>Red & Black</option>
                                <option value="Crimson & Dark" ${bot && bot.color == 'Crimson & Dark' ? 'selected' : ''}>Crimson & Dark</option>
                                <option value="Scarlet & Night" ${bot && bot.color == 'Scarlet & Night' ? 'selected' : ''}>Scarlet & Night</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="botImage"><i class="fas fa-image"></i> Upload Bot Image:</label>
                            <input type="file" id="botImage" class="form-control" accept="image/*">
                        </div>
                        
                        <div class="form-group">
                            <label><i class="fas fa-file-upload"></i> Upload MQL Bot File:</label>
                            <div class="file-upload-area" id="fileUploadArea">
                                <i class="fas fa-cloud-upload-alt"></i>
                                <h3>Upload Your MQL File</h3>
                                <p>Drag & drop your compiled .ex4 file here</p>
                                <p class="text-muted">Maximum file size: 10MB</p>
                                <input type="file" id="botFile" accept=".ex4,.mq4,.ex5" style="display: none;">
                                <button type="button" class="btn btn-primary" id="browseFilesBtn"><i class="fas fa-folder-open"></i> Browse Files</button>
                            </div>
                            <div class="file-info" id="fileInfo">
                                <div class="file-info-header">
                                    <span class="file-info-name" id="fileName">File Name</span>
                                    <button type="button" class="btn btn-danger" id="removeFileBtn" style="padding: 5px 10px; font-size: 12px;">
                                        <i class="fas fa-times"></i> Remove
                                    </button>
                                </div>
                                <div class="file-info-details">
                                    <span id="fileSize">File Size</span> • <span id="fileType">File Type</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label><i class="fas fa-chart-line"></i> Trading Symbols:</label>
                            <div class="symbol-list" id="symbolList">${bot ? bot.symbols.map((s, i) => `<span class="symbol-item">${s}<button onclick="removeSymbol(${i})"><i class="fas fa-times"></i></button></span>`).join('') : ''}</div>
                            
                            <div style="display: flex; gap: 10px; margin-top: 10px;">
                                <input type="text" id="symbolInput" class="form-control" placeholder="Add symbol (e.g., EURUSD, GBPUSD)">
                                <button type="button" class="btn btn-primary" id="addSymbolBtn"><i class="fas fa-plus"></i> Add</button>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="botDescription"><i class="fas fa-info-circle"></i> Bot Description:</label>
                            <textarea id="botDescription" class="form-control" rows="4" placeholder="Describe your trading bot's strategy and settings">${bot ? bot.description : ''}</textarea>
                        </div>
                        
                        <div class="button-container">
                            <button type="button" class="btn btn-primary" id="saveBotBtn"><i class="fas fa-save"></i> ${bot ? 'Update Bot' : 'Create Bot'}</button>
                            <button type="button" class="btn" onclick="${bot ? `viewBot(${index})` : 'renderBots()'}" style="background: #555;"><i class="fas fa-arrow-left"></i> Back</button>
                        </div>
                    </form>
                </div>
            `;
            
            let symbols = bot ? bot.symbols.slice() : [];
            let uploadedFile = bot ? {
                name: bot.fileName,
                size: bot.fileSize,
                type: bot.fileType,
                content: bot.fileContent
            } : null;
            
            // File upload functionality
            const fileUploadArea = document.getElementById('fileUploadArea');
            const botFileInput = document.getElementById('botFile');
            const browseFilesBtn = document.getElementById('browseFilesBtn');
            const fileInfo = document.getElementById('fileInfo');
            const removeFileBtn = document.getElementById('removeFileBtn');
            
            browseFilesBtn.addEventListener('click', () => {
                botFileInput.click();
            });
            
            fileUploadArea.addEventListener('click', () => {
                botFileInput.click();
            });
            
            fileUploadArea.addEventListener('dragover', (e) => {
                e.preventDefault();
                fileUploadArea.style.borderColor = 'var(--primary-light)';
                fileUploadArea.style.background = 'rgba(255, 0, 0, 0.1)';
            });
            
            fileUploadArea.addEventListener('dragleave', () => {
                fileUploadArea.style.borderColor = 'var(--primary-color)';
                fileUploadArea.style.background = 'transparent';
            });
            
            fileUploadArea.addEventListener('drop', (e) => {
                e.preventDefault();
                fileUploadArea.style.borderColor = 'var(--primary-color)';
                fileUploadArea.style.background = 'transparent';
                
                if (e.dataTransfer.files.length > 0) {
                    handleFileUpload(e.dataTransfer.files[0]);
                }
            });
            
            botFileInput.addEventListener('change', (e) => {
                if (e.target.files.length > 0) {
                    handleFileUpload(e.target.files[0]);
                }
            });
            
            removeFileBtn.addEventListener('click', () => {
                uploadedFile = null;
                fileInfo.classList.remove('show');
                botFileInput.value = '';
            });
            
            function handleFileUpload(file) {
                if (file.size > 10 * 1024 * 1024) {
                    showToast('File size exceeds 10MB limit', true);
                    return;
                }
                
                const reader = new FileReader();
                reader.onload = function(e) {
                    uploadedFile = {
                        name: file.name,
                        size: formatFileSize(file.size),
                        type: file.type || getFileType(file.name),
                        content: e.target.result
                    };
                    
                    document.getElementById('fileName').textContent = uploadedFile.name;
                    document.getElementById('fileSize').textContent = uploadedFile.size;
                    document.getElementById('fileType').textContent = uploadedFile.type;
                    fileInfo.classList.add('show');
                    
                    showToast('File uploaded successfully');
                };
                reader.readAsDataURL(file);
            }
            
            function formatFileSize(bytes) {
                if (bytes === 0) return '0 Bytes';
                const k = 1024;
                const sizes = ['Bytes', 'KB', 'MB', 'GB'];
                const i = Math.floor(Math.log(bytes) / Math.log(k));
                return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
            }
            
            function getFileType(filename) {
                const ext = filename.split('.').pop().toLowerCase();
                if (ext === 'ex4') return 'MetaTrader 4 Expert';
                if (ext === 'ex5') return 'MetaTrader 5 Expert';
                if (ext === 'mq4') return 'MetaTrader 4 Source';
                if (ext === 'mq5') return 'MetaTrader 5 Source';
                return 'Unknown';
            }
            
            window.removeSymbol = function(i) { 
                symbols.splice(i, 1); 
                renderSymbols(); 
            }
            
            function renderSymbols() { 
                document.getElementById("symbolList").innerHTML = symbols.map((s, i) => `
                    <span class="symbol-item">${s}<button onclick="removeSymbol(${i})"><i class="fas fa-times"></i></button></span>
                `).join(''); 
            }

            document.getElementById("addSymbolBtn").addEventListener("click", () => {
                const s = document.getElementById("symbolInput").value.trim().toUpperCase();
                if(s) { 
                    if (!symbols.includes(s)) {
                        symbols.push(s); 
                        renderSymbols(); 
                        document.getElementById("symbolInput").value = ''; 
                    } else {
                        showToast('Symbol already added', true);
                    }
                }
            });

            document.getElementById("saveBotBtn").addEventListener("click", () => {
                const name = document.getElementById("botName").value;
                const color = document.getElementById("botColor").value;
                const description = document.getElementById("botDescription").value;
                const fileInput = document.getElementById("botImage");
                
                if(!name) { 
                    showToast('Please enter bot name', true);
                    return; 
                }
                
                if(!uploadedFile) {
                    showToast('Please upload an MQL bot file', true);
                    return;
                }
                
                if(fileInput.files && fileInput.files[0]) {
                    const reader = new FileReader();
                    reader.onload = function(e) { 
                        saveBot(name, color, description, symbols, e.target.result, index, uploadedFile); 
                    }
                    reader.readAsDataURL(fileInput.files[0]);
                } else { 
                    saveBot(name, color, description, symbols, bot ? bot.image : null, index, uploadedFile); 
                }
            });
            
            // Add event listener to user info
            document.getElementById('userInfoBtn').addEventListener('click', renderProfile);
            
            // If editing, show existing file info
            if (bot && bot.fileName) {
                document.getElementById('fileName').textContent = bot.fileName;
                document.getElementById('fileSize').textContent = bot.fileSize;
                document.getElementById('fileType').textContent = bot.fileType;
                fileInfo.classList.add('show');
            }
        }

        // --- Save Bot ---
        function saveBot(name, color, description, symbols, image, index, file) {
            const botObj = {
                id: index !== null ? bots[index].id : 'bot_' + Date.now(),
                name, 
                color, 
                description, 
                symbols, 
                image, 
                fileName: file.name,
                fileSize: file.size,
                fileType: file.type,
                fileContent: file.content,
                createdAt: new Date().toISOString(),
                updatedAt: new Date().toISOString()
            };
            
            if(index !== null) { 
                bots[index] = botObj; 
                localStorage.setItem('bots', JSON.stringify(bots)); 
                showToast('Bot updated successfully');
                viewBot(index); 
            } else { 
                bots.push(botObj); 
                localStorage.setItem('bots', JSON.stringify(bots)); 
                showToast('Bot created successfully');
                viewBot(bots.length - 1); 
            }
        }

        // --- View Bot ---
        function viewBot(index) {
            const bot = bots[index];
            const botLicenses = licenseKeys.filter(key => key.botId === bot.id);
            
            document.getElementById("mainContent").innerHTML = `
                <div class="page-header">
                    <h1 class="page-title"><i class="fas fa-eye"></i> ${bot.name}</h1>
                    ${getUserInfo()}
                </div>
                
                <div class="card">
                    <div style="display: flex; gap: 20px; margin-bottom: 20px; flex-wrap: wrap;">
                        ${bot.image ? `<img src="${bot.image}" style="width:150px;height:150px;border-radius:12px;">` : '<div class="ea-icon" style="width:150px;height:150px;font-size:48px;"><i class="fas fa-robot"></i></div>'}
                        <div style="flex: 1;">
                            <p><strong><i class="fas fa-palette"></i> Color Scheme:</strong> ${bot.color}</p>
                            <p><strong><i class="fas fa-file-code"></i> File:</strong> ${bot.fileName}</p>
                            <p><strong><i class="fas fa-chart-line"></i> Symbols:</strong> ${bot.symbols.length}</p>
                            <p><strong><i class="fas fa-key"></i> License Keys:</strong> ${botLicenses.length}</p>
                            <p><strong><i class="fas fa-calendar"></i> Created:</strong> ${new Date(bot.createdAt).toLocaleDateString()}</p>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label><i class="fas fa-info-circle"></i> Description:</label>
                        <p>${bot.description || 'No description provided.'}</p>
                    </div>
                    
                    <div class="form-group">
                        <label><i class="fas fa-file-download"></i> Bot File:</label>
                        <div class="file-info show">
                            <div class="file-info-header">
                                <span class="file-info-name">${bot.fileName}</span>
                                <button class="btn btn-success" onclick="downloadBotFile(${index})">
                                    <i class="fas fa-download"></i> Download
                                </button>
                            </div>
                            <div class="file-info-details">
                                <span>${bot.fileSize}</span> • <span>${bot.fileType}</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label><i class="fas fa-chart-line"></i> Symbols:</label>
                        <div class="symbol-list" id="symbolList">${bot.symbols.map((s, i) => `<span class="symbol-item">${s}<button onclick="removeSymbolDetail(${index}, ${i})"><i class="fas fa-times"></i></button></span>`).join('')}</div>
                        
                        <div style="display: flex; gap: 10px; margin-top: 10px;">
                            <input type="text" id="symbolInput" class="form-control" placeholder="Add symbol">
                            <button type="button" class="btn btn-primary" id="addSymbolBtn"><i class="fas fa-plus"></i> Add</button>
                        </div>
                    </div>
                    
                    <div class="license-keys-container">
                        <h3><i class="fas fa-key"></i> License Keys for ${bot.name}</h3>
                        ${botLicenses.length === 0 ? 
                            '<p>No license keys generated yet. Click "Generate Key" to create your first license.</p>' :
                            botLicenses.map(license => `
                                <div class="license-key-item">
                                    <div class="license-key-info">
                                        <div class="license-key-code">${license.key}</div>
                                        <div class="license-key-details">
                                            Customer: ${license.customerName} • Email: ${license.customerEmail} • 
                                            Plan: ${license.plan.replace('-', ' ')} • 
                                            Created: ${new Date(license.createdAt).toLocaleDateString()}
                                        </div>
                                    </div>
                                    <div class="license-key-actions">
                                        <button class="btn btn-primary" onclick="copyToClipboard('${license.key}')">
                                            <i class="fas fa-copy"></i> Copy
                                        </button>
                                        <button class="btn btn-danger" onclick="deleteLicenseKey('${license.id}')">
                                            <i class="fas fa-trash"></i> Delete
                                        </button>
                                    </div>
                                </div>
                            `).join('')
                        }
                    </div>
                    
                    <div class="bot-actions">
                        <button class="btn btn-success" id="generateKeyBtn"><i class="fas fa-key"></i> Generate Key</button>
                        <button class="btn btn-primary" onclick="editBot(${index})"><i class="fas fa-edit"></i> Edit Bot</button>
                        <button class="btn btn-danger" onclick="deleteBot(${index})"><i class="fas fa-trash"></i> Delete Bot</button>
                    </div>
                </div>
                
                <div id="licenseFormContainer" style="display: none;"></div>
                <div id="licenseKeyContainer" style="display: none;"></div>
            `;
            
            window.removeSymbolDetail = function(botIndex, symbolIndex) { 
                bots[botIndex].symbols.splice(symbolIndex, 1); 
                localStorage.setItem('bots', JSON.stringify(bots)); 
                viewBot(botIndex); 
                showToast('Symbol removed');
            }
            
            document.getElementById("addSymbolBtn").addEventListener("click", () => {
                const s = document.getElementById("symbolInput").value.trim().toUpperCase();
                if(s) { 
                    if (!bots[index].symbols.includes(s)) {
                        bots[index].symbols.push(s); 
                        localStorage.setItem('bots', JSON.stringify(bots)); 
                        viewBot(index); 
                        showToast('Symbol added');
                    } else {
                        showToast('Symbol already added', true);
                    }
                }
            });
            
            // Add event listener to generate key button
            document.getElementById("generateKeyBtn").addEventListener("click", function() {
                showLicenseForm(index);
            });
            
            // Add event listener to user info
            document.getElementById('userInfoBtn').addEventListener('click', renderProfile);
        }

        // --- Download Bot File ---
        function downloadBotFile(index) {
            const bot = bots[index];
            if (bot.fileContent) {
                const link = document.createElement('a');
                link.href = bot.fileContent;
                link.download = bot.fileName;
                link.click();
                showToast('File download started');
            } else {
                showToast('No file content available', true);
            }
        }

        // --- Generate License Key ---
        function generateLicenseKey(plan, customerName) {
            const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';
            let key = '';
            for (let i = 0; i < 8; i++) {
                key += chars.charAt(Math.floor(Math.random() * chars.length));
            }
            
            // Format: EALG-name-****-***-**
            const namePart = customerName.substring(0, 4).toUpperCase();
            return `EALG-${namePart}-${key.substring(0,4)}-${key.substring(4,7)}-${key.substring(7,8)}`;
        }

        // --- Show License Form ---
        function showLicenseForm(botIndex) {
            const bot = bots[botIndex];
            document.getElementById("licenseFormContainer").innerHTML = `
                <div class="license-form">
                    <h3><i class="fas fa-key"></i> Generate License Key for ${bot.name}</h3>
                    
                    <div class="form-group">
                        <label for="customerName"><i class="fas fa-user"></i> Customer Name:</label>
                        <input type="text" id="customerName" class="form-control" placeholder="Enter customer name" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="customerEmail"><i class="fas fa-envelope"></i> Customer Email:</label>
                        <input type="email" id="customerEmail" class="form-control" placeholder="Enter customer email" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="licensePlan"><i class="fas fa-calendar-alt"></i> Select License Plan:</label>
                        <select id="licensePlan" class="form-control">
                            <option value="">-- Select Plan --</option>
                            <option value="15-days">15 Days</option>
                            <option value="1-month">1 Month</option>
                            <option value="3-months">3 Months</option>
                            <option value="6-months">6 Months</option>
                            <option value="lifetime">Lifetime</option>
                        </select>
                    </div>
                    
                    <button class="btn btn-success" id="generateLicenseBtn" style="width: 100%;">
                        <i class="fas fa-key"></i> Generate License Key
                    </button>
                </div>
            `;
            
            document.getElementById("licenseFormContainer").style.display = 'block';
            document.getElementById("licenseKeyContainer").style.display = 'none';
            
            // Add generate license functionality
            document.getElementById("generateLicenseBtn").addEventListener("click", function() {
                const customerName = document.getElementById("customerName").value;
                const customerEmail = document.getElementById("customerEmail").value;
                const selectedPlan = document.getElementById("licensePlan").value;
                
                if (!customerName || !customerEmail) {
                    showToast('Please enter customer name and email', true);
                    return;
                }
                
                if (!selectedPlan) {
                    showToast('Please select a license plan', true);
                    return;
                }
                
                const licenseKey = generateLicenseKey(selectedPlan, customerName);
                
                // Create license object
                const licenseObj = {
                    id: 'license_' + Date.now(),
                    key: licenseKey,
                    botId: bot.id,
                    botName: bot.name,
                    customerName: customerName,
                    customerEmail: customerEmail,
                    plan: selectedPlan,
                    status: 'active',
                    createdAt: new Date().toISOString()
                };
                
                // Add to license keys array
                licenseKeys.push(licenseObj);
                localStorage.setItem('licenseKeys', JSON.stringify(licenseKeys));
                
                // Update license counts
                licenses.total = licenseKeys.length;
                licenses.active = licenseKeys.filter(key => key.status === 'active').length;
                localStorage.setItem('licenses', JSON.stringify(licenses));
                
                document.getElementById("licenseKeyContainer").innerHTML = `
                    <div class="license-key-container">
                        <h3><i class="fas fa-key"></i> License Key Generated</h3>
                        <p><strong>Customer:</strong> ${customerName}</p>
                        <p><strong>Email:</strong> ${customerEmail}</p>
                        <p><strong>Plan:</strong> ${selectedPlan.replace('-', ' ').toUpperCase()}</p>
                        <p><strong>Bot:</strong> ${bot.name}</p>
                        <div class="license-key">${licenseKey}</div>
                        <button class="copy-btn" onclick="copyToClipboard('${licenseKey}')">
                            <i class="fas fa-copy"></i> Copy Key
                        </button>
                        <p style="margin-top: 15px; font-size: 14px; color: var(--text-muted);">
                            <i class="fas fa-info-circle"></i> This key can be used to activate ${bot.name}
                        </p>
                    </div>
                `;
                document.getElementById("licenseKeyContainer").style.display = 'block';
                showToast('License key generated successfully');
                
                // Refresh the bot view to show the new license
                setTimeout(() => {
                    viewBot(botIndex);
                }, 2000);
            });
        }

        // --- Delete License Key ---
        function deleteLicenseKey(licenseId) {
            if(confirm('Are you sure you want to delete this license key? This action cannot be undone.')) {
                licenseKeys = licenseKeys.filter(key => key.id !== licenseId);
                localStorage.setItem('licenseKeys', JSON.stringify(licenseKeys));
                
                // Update license counts
                licenses.total = licenseKeys.length;
                licenses.active = licenseKeys.filter(key => key.status === 'active').length;
                localStorage.setItem('licenses', JSON.stringify(licenses));
                
                showToast('License key deleted successfully');
                
                // Refresh current view
                const currentBotIndex = bots.findIndex(bot => bot.id === licenseKeys.find(key => key.id === licenseId)?.botId);
                if (currentBotIndex !== -1) {
                    viewBot(currentBotIndex);
                } else {
                    renderBots();
                }
            }
        }

        // --- Copy to Clipboard ---
        function copyToClipboard(text) {
            navigator.clipboard.writeText(text).then(function() {
                showToast('Copied to clipboard!');
            }, function(err) {
                console.error('Could not copy text: ', err);
                showToast('Failed to copy', true);
            });
        }

        // --- Edit / Delete ---
        function editBot(index) { 
            loadNewBotForm(bots[index], index); 
        }
        
        function deleteBot(index) { 
            if(confirm('Are you sure you want to delete this bot? This will also delete all associated license keys. This action cannot be undone.')) { 
                const botId = bots[index].id;
                
                // Remove bot
                bots.splice(index, 1); 
                localStorage.setItem('bots', JSON.stringify(bots));
                
                // Remove associated license keys
                const keysToDelete = licenseKeys.filter(key => key.botId === botId);
                licenseKeys = licenseKeys.filter(key => key.botId !== botId);
                localStorage.setItem('licenseKeys', JSON.stringify(licenseKeys));
                
                // Update license counts
                licenses.total = licenseKeys.length;
                licenses.active = licenseKeys.filter(key => key.status === 'active').length;
                localStorage.setItem('licenses', JSON.stringify(licenses));
                
                showToast(`Bot and ${keysToDelete.length} associated license keys deleted successfully`);
                renderBots();
            }
        }

        // --- License Keys Page ---
        function renderLicenseKeys() {
            setActiveNav('licenseKeysBtn');
            document.getElementById("mainContent").innerHTML = `
                <div class="page-header">
                    <h1 class="page-title"><i class="fas fa-key"></i> All License Keys</h1>
                    ${getUserInfo()}
                </div>
                
                <div class="card">
                    <h2>License Key Management</h2>
                    <p>Total license keys: ${licenseKeys.length}</p>
                    
                    <div class="table-container">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>User</th>
                                    <th>Key</th>
                                    <th>EA</th>
                                    <th>Status</th>
                                    <th>Created</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                                ${licenseKeys.length === 0 ? 
                                    '<tr><td colspan="6" style="text-align: center;">No license keys generated yet.</td></tr>' :
                                    licenseKeys.map(license => {
                                        const bot = bots.find(b => b.id === license.botId);
                                        return `
                                            <tr>
                                                <td>${license.customerName}</td>
                                                <td><a href="#" onclick="viewLicenseDetails('${license.id}')">${license.key}</a></td>
                                                <td><a href="#" onclick="viewBot(${bots.findIndex(b => b.id === license.botId)})">${bot ? bot.name : 'Unknown Bot'}</a></td>
                                                <td><span class="badge ${license.status === 'active' ? 'badge-success' : 'badge-danger'}">${license.status}</span></td>
                                                <td>${new Date(license.createdAt).toLocaleDateString()}</td>
                                                <td>
                                                    <form onsubmit="event.preventDefault(); deleteLicenseKey('${license.id}')">
                                                        <button type="submit" class="btn btn-sm btn-danger">Delete</button>
                                                    </form>
                                                </td>
                                            </tr>
                                        `;
                                    }).join('')
                                }
                            </tbody>
                        </table>
                    </div>
                </div>
            `;
            
            // Add event listener to user info
            document.getElementById('userInfoBtn').addEventListener('click', renderProfile);
        }

        // --- View License Details ---
        function viewLicenseDetails(licenseId) {
            const license = licenseKeys.find(l => l.id === licenseId);
            if (!license) return;
            
            const bot = bots.find(b => b.id === license.botId);
            
            document.getElementById("mainContent").innerHTML = `
                <div class="page-header">
                    <h1 class="page-title"><i class="fas fa-key"></i> License Key Details</h1>
                    ${getUserInfo()}
                </div>
                
                <div class="card">
                    <h2>License Information</h2>
                    
                    <div class="form-group">
                        <label><i class="fas fa-key"></i> License Key:</label>
                        <div class="license-key">${license.key}</div>
                        <button class="copy-btn" onclick="copyToClipboard('${license.key}')">
                            <i class="fas fa-copy"></i> Copy Key
                        </button>
                    </div>
                    
                    <div class="form-group">
                        <label><i class="fas fa-user"></i> Customer Name:</label>
                        <p>${license.customerName}</p>
                    </div>
                    
                    <div class="form-group">
                        <label><i class="fas fa-envelope"></i> Customer Email:</label>
                        <p>${license.customerEmail}</p>
                    </div>
                    
                    <div class="form-group">
                        <label><i class="fas fa-robot"></i> Associated Bot:</label>
                        <p>${bot ? bot.name : 'Unknown Bot'}</p>
                    </div>
                    
                    <div class="form-group">
                        <label><i class="fas fa-calendar-alt"></i> License Plan:</label>
                        <p>${license.plan.replace('-', ' ').toUpperCase()}</p>
                    </div>
                    
                    <div class="form-group">
                        <label><i class="fas fa-info-circle"></i> Status:</label>
                        <p><span class="badge ${license.status === 'active' ? 'badge-success' : 'badge-danger'}">${license.status}</span></p>
                    </div>
                    
                    <div class="form-group">
                        <label><i class="fas fa-calendar"></i> Created:</label>
                        <p>${new Date(license.createdAt).toLocaleDateString()}</p>
                    </div>
                    
                    <div class="button-container">
                        <button class="btn btn-primary" onclick="renderLicenseKeys()">
                            <i class="fas fa-arrow-left"></i> Back to License Keys
                        </button>
                        <button class="btn btn-danger" onclick="deleteLicenseKey('${license.id}')">
                            <i class="fas fa-trash"></i> Delete License
                        </button>
                    </div>
                </div>
            `;
            
            // Add event listener to user info
            document.getElementById('userInfoBtn').addEventListener('click', renderProfile);
        }

        // --- Generate Key Page ---
        function renderGenerateKey() {
            setActiveNav('generateKeyBtn');
            document.getElementById("mainContent").innerHTML = `
                <div class="page-header">
                    <h1 class="page-title"><i class="fas fa-plus-circle"></i> Generate License Key</h1>
                    ${getUserInfo()}
                </div>
                
                <div class="card">
                    <h4 class="card-title">GENERATE LICENSE KEY</h4>
                    <p class="card-description">
                        Enter the user details and select the EA you want to authorize for the user
                    </p>
                    <form class="form" id="generateKeyForm">
                        <div class="form-group">
                            <label for="userName">User Name</label>
                            <input name="name" type="text" class="form-control" id="userName" placeholder="User name" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="eaSelect">EA</label>
                            <select name="ea" class="form-control" id="eaSelect" required>
                                <option disabled selected>Select an EA</option>
                                ${bots.length > 0 ? 
                                    bots.map(bot => `<option value="${bot.id}">${bot.name}</option>`).join('') : 
                                    '<option disabled>No bots available. Please create a bot first.</option>'
                                }
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="planSelect">Plan</label>
                            <select name="plan" class="form-control" id="planSelect" required>
                                <option disabled selected>Select a Plan</option>
                                <option value="3">3 Days</option>
                                <option value="5">5 days</option>
                                <option value="30">30 days</option>
                                <option value="90">3 months</option>
                                <option value="180">6 months</option>
                                <option value="365">1 year</option>
                                <option value="3652">Lifetime</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <div class="form-check">
                                <input type="checkbox" class="form-check-input" id="confirmCheck" required>
                                <label class="form-check-label" for="confirmCheck">
                                    I confirm
                                </label>
                            </div>
                        </div>
                        
                        <button type="submit" class="btn btn-primary">Generate</button>
                    </form>
                </div>
                
                <div id="generatedKeyContainer" style="display: none;"></div>
            `;
            
            // Handle form submission
            document.getElementById("generateKeyForm").addEventListener("submit", function(e) {
                e.preventDefault();
                
                const userName = document.getElementById("userName").value;
                const eaId = document.getElementById("eaSelect").value;
                const plan = document.getElementById("planSelect").value;
                
                if (!userName || !eaId || !plan) {
                    showToast('Please fill in all fields', true);
                    return;
                }
                
                // Find the selected bot
                const selectedBot = bots.find(bot => bot.id === eaId);
                if (!selectedBot) {
                    showToast('Selected EA not found', true);
                    return;
                }
                
                // Generate license key with new format
                const licenseKey = generateLicenseKey(plan, userName);
                
                // Create license object
                const licenseObj = {
                    id: 'license_' + Date.now(),
                    key: licenseKey,
                    botId: selectedBot.id,
                    botName: selectedBot.name,
                    customerName: userName,
                    customerEmail: '', // Not collected in this form
                    plan: getPlanName(plan),
                    status: 'active',
                    createdAt: new Date().toISOString()
                };
                
                // Add to license keys array
                licenseKeys.push(licenseObj);
                localStorage.setItem('licenseKeys', JSON.stringify(licenseKeys));
                
                // Update license counts
                licenses.total = licenseKeys.length;
                licenses.active = licenseKeys.filter(key => key.status === 'active').length;
                localStorage.setItem('licenses', JSON.stringify(licenses));
                
                // Show generated key
                document.getElementById("generatedKeyContainer").innerHTML = `
                    <div class="card">
                        <h3><i class="fas fa-key"></i> License Key Generated</h3>
                        <div class="license-key-container">
                            <p><strong>User:</strong> ${userName}</p>
                            <p><strong>EA:</strong> ${selectedBot.name}</p>
                            <p><strong>Plan:</strong> ${getPlanName(plan)}</p>
                            <div class="license-key">${licenseKey}</div>
                            <button class="copy-btn" onclick="copyToClipboard('${licenseKey}')">
                                <i class="fas fa-copy"></i> Copy Key
                            </button>
                        </div>
                    </div>
                `;
                document.getElementById("generatedKeyContainer").style.display = 'block';
                
                showToast('License key generated successfully');
                
                // Reset form
                document.getElementById("generateKeyForm").reset();
            });
            
            // Add event listener to user info
            document.getElementById('userInfoBtn').addEventListener('click', renderProfile);
        }

        // --- Helper functions for Generate Key page ---
        function getPlanName(planDays) {
            const planNames = {
                '3': '3 Days',
                '5': '5 Days',
                '30': '1 Month',
                '90': '3 Months',
                '180': '6 Months',
                '365': '1 Year',
                '3652': 'Lifetime'
            };
            
            return planNames[planDays] || 'Unknown';
        }

        // --- Profile Page ---
        function renderProfile() {
            setActiveNav('profileBtn');
            const currentProfilePic = getProfilePicture(currentUser.email);
            
            document.getElementById("mainContent").innerHTML = `
                <div class="page-header">
                    <h1 class="page-title"><i class="fas fa-user"></i> Profile Settings</h1>
                    ${getUserInfo()}
                </div>
                
                <div class="card">
                    <div class="profile-upload">
                        <img src="${currentProfilePic}" alt="Profile Avatar" class="profile-avatar" id="profileAvatar">
                        <form class="form-horizontal" role="form" id="avatarForm">
                            <div class="form-group">
                                <label>Profile Picture:</label>
                                <input class="form-control" name="avatar" type="file" accept="image/*" id="avatarInput">
                                <button type="button" class="btn btn-primary" id="uploadAvatarBtn" style="margin-top: 10px;">
                                    <i class="fas fa-upload"></i> Upload Avatar
                                </button>
                            </div>
                        </form>
                    </div>
                    
                    <form class="form-horizontal" role="form" id="profileForm">
                        <div class="form-group">
                            <label for="userFullName"><i class="fas fa-user"></i> First Name:</label>
                            <input class="form-control" id="userFullName" name="fullname" type="text" value="${currentUser.firstName || 'Kgomotso'}" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="userLastName"><i class="fas fa-user"></i> Last Name:</label>
                            <input class="form-control" id="userLastName" name="lastname" type="text" value="${currentUser.lastName || 'Admin'}" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="userDisplayName"><i class="fas fa-user-tag"></i> Display Name:</label>
                            <input class="form-control" id="userDisplayName" name="displayname" type="text" value="${currentUser.displayName || 'Easynasdaq'}" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="userPhone"><i class="fas fa-phone"></i> Phone:</label>
                            <input class="form-control" id="userPhone" name="phone" type="text" value="${currentUser.phone || '0837094221'}" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="userEmail"><i class="fas fa-envelope"></i> Email:</label>
                            <input class="form-control" id="userEmail" name="email" type="email" value="${currentUser.email}" disabled>
                        </div>
                        
                        <div class="form-group">
                            <label for="userSubscription"><i class="fas fa-crown"></i> Subscription:</label>
                            <input class="form-control" id="userSubscription" type="text" value="Premium" readonly>
                        </div>
                        
                        <div class="button-container">
                            <button type="button" class="btn btn-primary" id="updateProfileBtn">
                                <i class="fas fa-save"></i> Update Profile
                            </button>
                        </div>
                    </form>
                </div>
            `;
            
            // Handle avatar upload
            document.getElementById("uploadAvatarBtn").addEventListener("click", function() {
                const fileInput = document.getElementById('avatarInput');
                if (fileInput.files && fileInput.files[0]) {
                    const reader = new FileReader();
                    reader.onload = function(e) {
                        const imageData = e.target.result;
                        // Save to localStorage permanently
                        saveProfilePicture(currentUser.email, imageData);
                        
                        // Update the avatar preview
                        document.getElementById('profileAvatar').src = imageData;
                        
                        // Update the avatar in the header
                        const headerAvatar = document.querySelector('.user-avatar');
                        headerAvatar.style.backgroundImage = `url('${imageData}')`;
                        headerAvatar.textContent = '';
                        
                        showToast('Profile picture saved permanently');
                    };
                    reader.readAsDataURL(fileInput.files[0]);
                } else {
                    showToast('Please select an image file', true);
                }
            });
            
            // Handle profile update
            document.getElementById("updateProfileBtn").addEventListener("click", function() {
                const fullName = document.getElementById("userFullName").value;
                const lastName = document.getElementById("userLastName").value;
                const displayName = document.getElementById("userDisplayName").value;
                const phone = document.getElementById("userPhone").value;
                
                if (!fullName || !lastName || !displayName || !phone) {
                    showToast('Please fill in all required fields', true);
                    return;
                }
                
                // Update user data
                currentUser.firstName = fullName;
                currentUser.lastName = lastName;
                currentUser.displayName = displayName;
                currentUser.phone = phone;
                
                // Update in storage for registered users
                if (currentUser.email !== ADMIN_EMAIL) {
                    const userIndex = users.findIndex(u => u.email === currentUser.email);
                    if (userIndex !== -1) {
                        users[userIndex] = currentUser;
                        localStorage.setItem('ealegacy_users', JSON.stringify(users));
                    }
                }
                
                showToast('Profile updated successfully');
                
                // Update user info in header
                const headerAvatar = document.querySelector('.user-avatar');
                const profilePic = getProfilePicture(currentUser.email);
                if (profilePictures[currentUser.email]) {
                    headerAvatar.style.backgroundImage = `url('${profilePic}')`;
                    headerAvatar.textContent = '';
                } else {
                    headerAvatar.style.backgroundImage = 'none';
                    headerAvatar.textContent = currentUser.firstName[0] + currentUser.lastName[0];
                }
                document.getElementById('userInfoBtn').querySelector('div').innerHTML = 
                    `${currentUser.firstName} ${currentUser.lastName} <span style="color: var(--primary-color);">• Premium</span>`;
            });
            
            // Add event listener to user info
            document.getElementById('userInfoBtn').addEventListener('click', renderProfile);
        }

        // --- Help Page ---
        function renderHelp() {
            setActiveNav('helpBtn');
            document.getElementById("mainContent").innerHTML = `
                <div class="page-header">
                    <h1 class="page-title"><i class="fas fa-question-circle"></i> Help & Support</h1>
                    ${getUserInfo()}
                </div>
                
                <div class="card">
                    <h2 style="color:var(--primary-color);"><i class="fas fa-question"></i> Frequently Asked Questions</h2>
                    
                    <div style="margin-bottom: 20px;">
                        <p><strong><i class="fas fa-robot"></i> How do I upload a new MQL bot?</strong></p>
                        <p>Go to "Manage Bots" and click "New Bot". Fill in the details and upload your compiled .ex4 file.</p>
                    </div>
                    
                    <div style="margin-bottom: 20px;">
                        <p><strong><i class="fas fa-edit"></i> Can I edit an existing bot?</strong></p>
                        <p>Yes, click on any bot card to view details, then click "Edit Bot".</p>
                    </div>
                    
                    <div style="margin-bottom: 20px;">
                        <p><strong><i class="fas fa-chart-line"></i> How do I add trading symbols?</strong></p>
                        <p>When creating or editing a bot, use the "Add Symbol" feature.</p>
                    </div>
                    
                    <div style="margin-bottom: 20px;">
                        <p><strong><i class="fas fa-key"></i> How do I generate a license key?</strong></p>
                        <p>After creating or viewing a bot, click the "Generate Key" button and fill in the customer details and select a plan.</p>
                    </div>
                    
                    <h2 style="color:var(--primary-color); margin-top: 30px;"><i class="fas fa-headset"></i> Contact Support</h2>
                    <p><i class="fas fa-envelope"></i> Email: support@ealegacy.com</p>
                    <p><i class="fas fa-phone"></i> Phone: +1 (555) 123-4567</p>
                    <p><i class="fas fa-clock"></i> Response Time: Within 24 hours</p>
                </div>
            `;
            
            // Add event listener to user info
            document.getElementById('userInfoBtn').addEventListener('click', renderProfile);
        }

        // --- Sidebar Navigation ---
        document.getElementById("dashboardBtn").addEventListener("click", renderDashboard);
        document.getElementById("manageBotsBtn").addEventListener("click", renderBots);
        document.getElementById("licenseKeysBtn").addEventListener("click", renderLicenseKeys);
        document.getElementById("generateKeyBtn").addEventListener("click", renderGenerateKey);
        document.getElementById("shopBtn").addEventListener("click", () => { 
            setActiveNav('shopBtn');
            document.getElementById("mainContent").innerHTML = `
                <div class="page-header">
                    <h1 class="page-title"><i class="fas fa-store"></i> Shop</h1>
                    ${getUserInfo()}
                </div>
                
                <div class="card">
                    <h2 style="color:var(--primary-color);"><i class="fas fa-store"></i> Coming Soon...</h2>
                    <p>Our marketplace for premium trading bots will be available soon!</p>
                    <p>Check back later for exclusive trading algorithms and tools.</p>
                </div>
            `; 
            
            // Add event listener to user info
            document.getElementById('userInfoBtn').addEventListener('click', renderProfile);
        });
        document.getElementById("profileBtn").addEventListener("click", renderProfile);
        document.getElementById("helpBtn").addEventListener("click", renderHelp);
        document.getElementById("logoutBtn").addEventListener("click", () => { 
            if(confirm('Are you sure you want to logout?')) {
                showToast('Logged out successfully');
                setTimeout(() => {
                    document.getElementById('dashboard').classList.remove('active');
                    document.getElementById('auth-container').style.display = 'flex';
                    // Reset login form
                    document.getElementById('login-email').value = '';
                    document.getElementById('login-password').value = '';
                }, 1000);
            }
        });
    </script>
</body>
</html>